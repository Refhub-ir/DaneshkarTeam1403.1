@using Refhub_Ir.Models.Books
@model ListBooksVM
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "لیست کتاب ها ";
}

<!-- =======================
Page Banner START -->
<section class="bg-dark align-items-center d-flex" style="background:url(assets/images/pattern/04.png) no-repeat center center; background-size:cover;">
    <!-- Main banner background image -->
    <div class="container">
        <div class="row">
            <div class="col-12">
                <!-- Title -->
                <h1 class="text-white fs-2">لیست کتاب ها</h1>
                <!-- Breadcrumb -->
                <div class="d-flex">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb breadcrumb-dark breadcrumb-dots mb-0">
                            <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">صفحه اصلی</a></li>
                            <li class="breadcrumb-item active" aria-current="page">لیست نسخه 4</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- =======================
Page Banner END -->
<!-- =======================
Page content START -->
<section class="pt-5">
    <div class="container">
        <!-- Search option START -->
        <div class="row mb-4 align-items-center">
            <!-- Search bar -->
            <form method="get" asp-action="Index" class="row g-3">
                <!-- Search box -->
                <div class="col-sm-6 col-xl-4">
                    <input type="text" name="searchText" value="@Model.SearchText" class="form-control" placeholder="جستجوی دوره" />
                </div>

                <!-- دسته بندی -->
                <div class="col-sm-6 col-xl-3">
                    <select name="categoryFilter" class="form-select">
                        <option value="">دسته بندی</option>
                        @foreach (var category in Model.Categories)
                        {
                            @if (Model.CategoryFilter == category.Name)
                            {
                                <option value="@category.Name" selected>@category.Name</option>
                            }
                            else
                            {
                                <option value="@category.Name">@category.Name</option>
                            }
                        }
                    </select>
                </div>

                <!-- نویسنده -->
                <div class="col-sm-6 col-xl-3">
                    <select name="authorFilter" class="form-select">
                        <option value="">نویسنده</option>
                        @foreach (var author in Model.Authors)
                        {
                            @if (Model.AuthorFilter == author.FullName)
                            {
                                <option value="@author.FullName" selected>@author.FullName</option>
                            }
                            else
                            {
                                <option value="@author.FullName">@author.FullName</option>
                            }
                        }
                    </select>
                </div>

                <!-- دکمه فیلتر -->
                <div class="col-sm-6 col-xl-2 d-grid">
                    <button type="submit" class="btn btn-primary">فیلتر</button>
                </div>
            </form>


        </div>
        <!-- Search option END -->
        <!-- Course list START -->
        <div class="row g-4 justify-content-center">

            @foreach (var item in Model.Books)
            {
                <!-- Card item START -->
                <div class="col-lg-10 col-xxl-6">
                    <div class="card rounded overflow-hidden shadow">
                        <div class="row g-0">
                            <!-- Image -->
                            <div class="col-md-4">
                                <img src="~/Files//Images/Books/@item.ImagePath" alt="@item.Title">
                            </div>

                            <!-- Card body -->
                            <div class="col-md-8">
                                <div class="card-body">
                                    <!-- Title -->
                                    <div class="d-flex justify-content-between mb-2">
                                        <h5 class="card-title mb-0 fw-normal"><a href="#">@item.Title</a></h5>
                                        <!-- Wishlist icon -->
                                        <a href="#"><i class="fas fa-heart text-danger"></i></a>
                                    </div>
                                    <!-- Content -->
                                    <!-- Info -->
                                    <ul class="list-inline mb-1">
                                        <li class="list-inline-item h6 fw-light mb-1 mb-sm-0"><i class="far fa-clock text-danger me-2"></i>6ساعت</li>
                                        <li class="list-inline-item h6 fw-light mb-1 mb-sm-0"><i class="fas fa-table text-orange me-2"></i>82 ویدیو</li>
                                        <li class="list-inline-item h6 fw-light"><i class="fas fa-signal text-success me-2"></i></li>
                                    </ul>
                                    <!-- Rating -->
                                    <ul class="list-inline mb-0">
                                        <li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i></li>
                                        <li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i></li>
                                        <li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i></li>
                                        <li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i></li>
                                        <li class="list-inline-item me-0 small"><i class="fas fa-star-half-alt text-warning"></i></li>
                                        <li class="list-inline-item ms-2 h6 fw-light">4.5/5.0</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Card item END -->
            }

        </div>
        <!-- Course list END -->
        <!-- Pagination START -->
        <!-- Pagination START -->
        <div class="col-12">
            <nav class="mt-4 d-flex justify-content-center" aria-label="navigation">
                <ul class="pagination pagination-primary-soft d-inline-block d-md-flex rounded mb-0">

                    <!-- دکمه رفتن به صفحه اول -->
                    @if (Model.CurrentPage > 1)
                    {
                        <li class="page-item mb-0">
                            <a class="page-link" asp-action="Index"
                               asp-route-page="@(Model.CurrentPage - 1)"
                               asp-route-searchText="@Model.SearchText"
                               asp-route-categoryFilter="@Model.CategoryFilter"
                               asp-route-authorFilter="@Model.AuthorFilter">
                                <i class="fas fa-angle-double-right"></i>
                            </a>
                        </li>
                    }

                    <!-- صفحات -->
                    @{
                        int startPage = Math.Max(1, Model.CurrentPage - 2);
                        int endPage = Math.Min(Model.TotalPages, Model.CurrentPage + 2);
                        for (int i = startPage; i <= endPage; i++)
                        {
                            <li class="page-item mb-0 @(i == Model.CurrentPage ? "active" : "")">
                                <a class="page-link"
                                   asp-action="Index"
                                   asp-route-page="@i"
                                   asp-route-searchText="@Model.SearchText"
                                   asp-route-categoryFilter="@Model.CategoryFilter"
                                   asp-route-authorFilter="@Model.AuthorFilter">
                                    @i
                                </a>
                            </li>
                        }
                    }

                    <!-- دکمه رفتن به صفحه آخر -->
                    @if (Model.CurrentPage < Model.TotalPages)
                    {
                        <li class="page-item mb-0">
                            <a class="page-link" asp-action="Index"
                               asp-route-page="@(Model.CurrentPage + 1)"
                               asp-route-searchText="@Model.SearchText"
                               asp-route-categoryFilter="@Model.CategoryFilter"
                               asp-route-authorFilter="@Model.AuthorFilter">
                                <i class="fas fa-angle-double-left"></i>
                            </a>
                        </li>
                    }

                </ul>
            </nav>
        </div>
        <!-- Pagination END -->
        <!-- Pagination END -->

    </div>
</section>
<!-- =======================
Page content END -->
<!-- =======================
Action box START -->
<section class="pt-0">
    <div class="container position-relative">
        <!-- SVG -->
        <figure class="position-absolute top-50 start-50 translate-middle ms-3">
            <svg>
                <path d="m496 22.999c0 10.493-8.506 18.999-18.999 18.999s-19-8.506-19-18.999 8.507-18.999 19-18.999 18.999 8.506 18.999 18.999z" fill="#fff" fill-rule="evenodd" opacity=".502" />
                <path d="m775 102.5c0 5.799-4.701 10.5-10.5 10.5-5.798 0-10.499-4.701-10.499-10.5 0-5.798 4.701-10.499 10.499-10.499 5.799 0 10.5 4.701 10.5 10.499z" fill="#fff" fill-rule="evenodd" opacity=".102" />
                <path d="m192 102c0 6.626-5.373 11.999-12 11.999s-11.999-5.373-11.999-11.999c0-6.628 5.372-12 11.999-12s12 5.372 12 12z" fill="#fff" fill-rule="evenodd" opacity=".2" />
                <path d="m20.499 10.25c0 5.66-4.589 10.249-10.25 10.249-5.66 0-10.249-4.589-10.249-10.249-0-5.661 4.589-10.25 10.249-10.25 5.661-0 10.25 4.589 10.25 10.25z" fill="#fff" fill-rule="evenodd" opacity=".2" />
            </svg>
        </figure>

        <div class="bg-success p-4 p-sm-5 rounded-3">
            <div class="row justify-content-center position-relative">
                <!-- Svg -->
                <figure class="fill-white opacity-1 position-absolute top-50 start-0 translate-middle-y">
                    <svg width="141px" height="141px">
                        <path d="M140.520,70.258 C140.520,109.064 109.062,140.519 70.258,140.519 C31.454,140.519 -0.004,109.064 -0.004,70.258 C-0.004,31.455 31.454,-0.003 70.258,-0.003 C109.062,-0.003 140.520,31.455 140.520,70.258 Z" />
                    </svg>
                </figure>
                <!-- Action box -->
                <div class="col-11 position-relative">
                    <div class="row align-items-center">
                        <!-- Title -->
                        <div class="col-lg-7">
                            <h3 class="text-white">مدرس شویـد!</h3>
                            <p class="text-white mb-3 mb-lg-0">ارائه راهکارها و شرایط سخت تایپ به پایان رسد وزمان مورد نیاز شامل حروفچینی دستاوردهای اصلی و جوابگوی سوالات پیوسته اهل دنیای موجود طراحی اساسا مورد استفاده قرار گیرد.</p>
                        </div>
                        <!-- Button -->
                        <div class="col-lg-5 text-lg-end">
                            <a href="#" class="btn btn-dark mb-0">ثبت نام</a>
                        </div>
                    </div>
                </div>
            </div> <!-- Row END -->
        </div>
    </div>
</section>
<!-- =======================
Action box END -->
